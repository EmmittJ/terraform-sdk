check "resource_validation" {
  assert {
    condition = length(aws_instance.web) > 0
    error_message = "At least one web instance is required"
  }

  assert {
    condition = aws_instance.web[0].instance_type != "t2.micro"
    error_message = "Production instances must not use t2.micro"
  }

  assert {
    condition = contains(["us-east-1", "us-west-2"], aws_instance.web[0].availability_zone)
    error_message = "Instance must be in an approved availability zone"
  }

}

